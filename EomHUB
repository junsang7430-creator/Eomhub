-- ===== ì„¤ì • =====
local BOSS_SPAWNER = workspace:WaitForChild("Spawner")
local BOSS_NAME = "[ê³µí—ˆì˜ ë°©ë‘ì] ë³´ì´ë“œë¡œë²„"
local COOLDOWN = 9000 -- 9000ì´ˆ
-- =================

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- ===== GUI ìƒì„± =====
local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 360, 0, 110)
mainFrame.Position = UDim2.new(0.5, -180, 0.1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BackgroundTransparency = 0.35
mainFrame.Parent = gui

-- ğŸ”· ë“œë˜ê·¸ ì „ìš© ë°” (í•µì‹¬)
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundColor3 = Color3.fromRGB(25,25,25)
titleBar.Parent = mainFrame
titleBar.Active = true

local titleText = Instance.new("TextLabel")
titleText.Size = UDim2.new(1, 0, 1, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "ì›”ë“œë³´ìŠ¤ íƒ€ì´ë¨¸"
titleText.TextColor3 = Color3.new(1,1,1)
titleText.TextScaled = true
titleText.Font = Enum.Font.GothamBold
titleText.Parent = titleBar

-- ğŸ”· íƒ€ì´ë¨¸ ë¼ë²¨
local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -20, 0, 60)
label.Position = UDim2.new(0, 10, 0, 40)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.new(1,1,1)
label.TextScaled = true
label.Font = Enum.Font.GothamBold
label.Parent = mainFrame

-- ===== ë“œë˜ê·¸ ë¡œì§ =====
local dragging = false
local dragStart
local startPos

titleBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UIS.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		mainFrame.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end
end)

-- ===== ë³´ìŠ¤ íƒ€ì´ë¨¸ ë¡œì§ (ì›ë˜ ë¡œì§ ìœ ì§€) =====
local boss = BOSS_SPAWNER:WaitForChild(BOSS_NAME)
local coolValue = boss:WaitForChild("Cool")

local timerRunning = false

local function updateTimer()
	if timerRunning then return end
	timerRunning = true

	while true do
		local remaining = COOLDOWN - coolValue.Value
		if remaining <= 0 then
			label.Text = "ì›”ë“œ ë³´ìŠ¤ ìƒì„±ë¨"
			timerRunning = false
			return
		else
			local hours = math.floor(remaining / 3600)
			local minutes = math.floor((remaining % 3600) / 60)
			local seconds = math.floor(remaining % 60)
			label.Text = string.format("ì›”ë“œ ë³´ìŠ¤ ë¦¬ì  ê¹Œì§€ %02d:%02d:%02d", hours, minutes, seconds)
		end
		task.wait(1)
	end
end

-- ì²˜ìŒ ì‹¤í–‰
updateTimer()

-- Cool ê°’ ë³€í™” ê°ì§€
coolValue.Changed:Connect(function()
	if coolValue.Value >= COOLDOWN then
		label.Text = "ì›”ë“œ ë³´ìŠ¤ ìƒì„±ë¨"
	else
		updateTimer()
	end
end)	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UIS.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end
end)

-- ë³´ìŠ¤ NumberValue ì ‘ê·¼
local boss = BOSS_SPAWNER:WaitForChild(BOSS_NAME)
local coolValue = boss:WaitForChild("Cool")

local timerRunning = false

local function updateTimer()
	if timerRunning then return end
	timerRunning = true

	while true do
		local remaining = COOLDOWN - coolValue.Value
		if remaining <= 0 then
			label.Text = "ì›”ë“œ ë³´ìŠ¤ ìƒì„±ë¨"
			timerRunning = false
			return
		else
			local h = math.floor(remaining / 3600)
			local m = math.floor((remaining % 3600) / 60)
			local s = math.floor(remaining % 60)
			label.Text = string.format("ì›”ë“œ ë³´ìŠ¤ ë¦¬ì  ê¹Œì§€ %02d:%02d:%02d", h, m, s)
		end
		task.wait(1)
	end
end

updateTimer()

coolValue.Changed:Connect(function()
	if coolValue.Value >= COOLDOWN then
		label.Text = "ì›”ë“œ ë³´ìŠ¤ ìƒì„±ë¨"
	else
		updateTimer()
	end
end)
